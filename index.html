<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Autodesk Portal Idiomatic JS by adsk-ui</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Autodesk Portal Idiomatic JS</h1>
      <h2 class="project-tagline">A Javascript Style Guide</h2>
      <a href="https://github.com/adsk-ui/idiomatic.js" class="btn">View on GitHub</a>
      <a href="https://github.com/adsk-ui/idiomatic.js/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/adsk-ui/idiomatic.js/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="principles-of-writing-consistent-idiomatic-javascript" class="anchor" href="#principles-of-writing-consistent-idiomatic-javascript" aria-hidden="true"><span class="octicon octicon-link"></span></a>Principles of Writing Consistent, Idiomatic JavaScript</h1>

<hr>

<ol>
<li>
<p><a name="whitespace">Whitespace</a></p>

<ul>
<li>Never mix spaces and tabs.</li>
<li>Configure your editor to use soft tabs with an indent size of <strong>four</strong> characters â€” this means four spaces or four spaces representing a real tab.</li>
<li>Use <a href="http://editorconfig.org/">Editorconfig</a> when possible.  It supports most IDEs and handles most whitespace settings.</li>
</ul>
</li>
<li>
<p><a name="spacing">Beautiful Syntax</a></p>

<p>A. Parens, Braces, Linebreaks</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// if/else/for/while/try always have spaces, braces and span multiple lines</span>
<span class="pl-c">// this encourages readability</span>

<span class="pl-c">// 2.A.1.1</span>
<span class="pl-c">// Examples of really cramped syntax</span>

<span class="pl-k">if</span>(condition) doSomething();

<span class="pl-k">while</span>(condition) iterating<span class="pl-k">++</span>;

<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span><span class="pl-c1">100</span>;i<span class="pl-k">++</span>) someIterativeFn();


<span class="pl-c">// 2.A.1.1</span>
<span class="pl-c">// Use whitespace to promote readability</span>

<span class="pl-k">if</span> ( condition ) {
  <span class="pl-c">// statements</span>
}

<span class="pl-k">while</span> ( condition ) {
  <span class="pl-c">// statements</span>
}

<span class="pl-k">for</span> ( <span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">100</span>; i<span class="pl-k">++</span> ) {
  <span class="pl-c">// statements</span>
}

<span class="pl-c">// Even better:</span>

<span class="pl-k">var</span> i,
  length <span class="pl-k">=</span> <span class="pl-c1">100</span>;

<span class="pl-k">for</span> ( i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> length; i<span class="pl-k">++</span> ) {
  <span class="pl-c">// statements</span>
}

<span class="pl-k">var</span> prop;

<span class="pl-k">for</span> ( prop <span class="pl-k">in</span> object ) {
  <span class="pl-c">// statements</span>
}


<span class="pl-k">if</span> ( <span class="pl-c1">true</span> ) {
  <span class="pl-c">// statements</span>
} <span class="pl-k">else</span> {
  <span class="pl-c">// statements</span>
}</pre></div>

<p>B. Assignments, Declarations, Functions ( Named, Expression, Constructor )</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 2.B.1.1</span>
<span class="pl-c">// Variables</span>
<span class="pl-k">var</span> foo <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>bar<span class="pl-pds">'</span></span>,
  num <span class="pl-k">=</span> <span class="pl-c1">1</span>,
  undef;

<span class="pl-c">// Literal notations:</span>
<span class="pl-k">var</span> array <span class="pl-k">=</span> [],
  object <span class="pl-k">=</span> {};


<span class="pl-c">// 2.B.1.2</span>
<span class="pl-c">// Using only one `var` per scope (function) promotes readability</span>
<span class="pl-c">// and keeps your declaration list free of clutter (also saves a few keystrokes)</span>

<span class="pl-c">// Bad</span>
<span class="pl-k">var</span> foo <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
<span class="pl-k">var</span> bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
<span class="pl-k">var</span> qux;

<span class="pl-c">// Good</span>
<span class="pl-k">var</span> foo <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
  bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
  qux;

<span class="pl-c">// or..</span>
<span class="pl-k">var</span> <span class="pl-c">// Comment on these</span>
foo <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
quux;

<span class="pl-c">// 2.B.1.3</span>
<span class="pl-c">// var statements should always be in the beginning of their respective scope (function).</span>


<span class="pl-c">// Bad</span>
<span class="pl-k">function</span> <span class="pl-en">foo</span>() {

  <span class="pl-c">// some statements here</span>

  <span class="pl-k">var</span> bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    qux;
}

<span class="pl-c">// Good</span>
<span class="pl-k">function</span> <span class="pl-en">foo</span>() {
  <span class="pl-k">var</span> bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    qux;

  <span class="pl-c">// all statements after the variables declarations.</span>
}

<span class="pl-c">// 2.B.1.4</span>
<span class="pl-c">// const and let, from ECMAScript 6, should likewise be at the top of their scope (block).</span>

<span class="pl-c">// Bad</span>
<span class="pl-k">function</span> <span class="pl-en">foo</span>() {
  <span class="pl-k">let</span> foo,
    bar;
  <span class="pl-k">if</span> (condition) {
    bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
    <span class="pl-c">// statements</span>
  }
}
<span class="pl-c">// Good</span>
<span class="pl-k">function</span> <span class="pl-en">foo</span>() {
  <span class="pl-k">let</span> foo;
  <span class="pl-k">if</span> (condition) {
    <span class="pl-k">let</span> bar <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;
    <span class="pl-c">// statements</span>
  }
}</pre></div>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 2.B.2.1</span>
<span class="pl-c">// Named Function Declaration</span>
<span class="pl-k">function</span> <span class="pl-en">foo</span>( <span class="pl-smi">arg1</span>, <span class="pl-smi">argN</span> ) {

}

<span class="pl-c">// Usage</span>
foo( arg1, argN );


<span class="pl-c">// 2.B.2.2</span>
<span class="pl-c">// Named Function Declaration</span>
<span class="pl-k">function</span> <span class="pl-en">square</span>( <span class="pl-smi">number</span> ) {
  <span class="pl-k">return</span> number <span class="pl-k">*</span> number;
}

<span class="pl-c">// Usage</span>
square( <span class="pl-c1">10</span> );

<span class="pl-c">// Really contrived continuation passing style</span>
<span class="pl-k">function</span> <span class="pl-en">square</span>( <span class="pl-smi">number</span>, <span class="pl-smi">callback</span> ) {
  callback( number <span class="pl-k">*</span> number );
}

square( <span class="pl-c1">10</span>, <span class="pl-k">function</span>( <span class="pl-smi">square</span> ) {
  <span class="pl-c">// callback statements</span>
});


<span class="pl-c">// 2.B.2.3</span>
<span class="pl-c">// Function Expression</span>
<span class="pl-k">var</span> <span class="pl-en">square</span> <span class="pl-k">=</span> <span class="pl-k">function</span>( <span class="pl-smi">number</span> ) {
  <span class="pl-c">// Return something valuable and relevant</span>
  <span class="pl-k">return</span> number <span class="pl-k">*</span> number;
};

<span class="pl-c">// Function Expression with Identifier</span>
<span class="pl-c">// This preferred form has the added value of being</span>
<span class="pl-c">// able to call itself and have an identity in stack traces:</span>
<span class="pl-k">var</span> <span class="pl-en">factorial</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">factorial</span>( <span class="pl-smi">number</span> ) {
  <span class="pl-k">if</span> ( number <span class="pl-k">&lt;</span> <span class="pl-c1">2</span> ) {
    <span class="pl-k">return</span> <span class="pl-c1">1</span>;
  }

  <span class="pl-k">return</span> number <span class="pl-k">*</span> factorial( number <span class="pl-k">-</span> <span class="pl-c1">1</span> );
};


<span class="pl-c">// 2.B.2.4</span>
<span class="pl-c">// Constructor Declaration</span>
<span class="pl-k">function</span> <span class="pl-en">FooBar</span>( <span class="pl-smi">options</span> ) {

  <span class="pl-v">this</span>.<span class="pl-c1">options</span> <span class="pl-k">=</span> options;
}

<span class="pl-c">// Usage</span>
<span class="pl-k">var</span> fooBar <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">FooBar</span>({ a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>alpha<span class="pl-pds">'</span></span> });

fooBar.<span class="pl-c1">options</span>;
<span class="pl-c">// { a: 'alpha' }</span>
</pre></div>

<p>C. Exceptions, Slight Deviations</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 2.C.1.1</span>
<span class="pl-c">// Functions with callbacks</span>
foo(<span class="pl-k">function</span>() {
  <span class="pl-c">// Note there is no extra space between the first paren</span>
  <span class="pl-c">// of the executing function call and the word 'function'</span>
});

<span class="pl-c">// Function accepting an array, no space</span>
foo([ <span class="pl-s"><span class="pl-pds">'</span>alpha<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>beta<span class="pl-pds">'</span></span> ]);

<span class="pl-c">// 2.C.1.2</span>
<span class="pl-c">// Function accepting an object, no space</span>
foo({
  a<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>alpha<span class="pl-pds">'</span></span>,
  b<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>beta<span class="pl-pds">'</span></span>
});

<span class="pl-c">// Single argument string literal, no space</span>
foo(<span class="pl-s"><span class="pl-pds">'</span>bar<span class="pl-pds">'</span></span>);

<span class="pl-c">// Inner grouping parens, no space</span>
<span class="pl-k">if</span> ( <span class="pl-k">!</span>(<span class="pl-s"><span class="pl-pds">'</span>foo<span class="pl-pds">'</span></span> <span class="pl-k">in</span> obj) ) {

}
</pre></div>

<p>D. Consistency Always Wins</p>

<p>In sections 2.A-2.C, the whitespace rules are set forth as a recommendation with a simpler, higher purpose: consistency.</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 2.D.1.1</span>

<span class="pl-k">if</span> (condition) {
  <span class="pl-c">// statements</span>
}

<span class="pl-k">while</span> (condition) {
  <span class="pl-c">// statements</span>
}

<span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">100</span>; i<span class="pl-k">++</span>) {
  <span class="pl-c">// statements</span>
}

<span class="pl-k">if</span> (<span class="pl-c1">true</span>) {
  <span class="pl-c">// statements</span>
} <span class="pl-k">else</span> {
  <span class="pl-c">// statements</span>
}
</pre></div>

<p>E. Quotes</p>

<p>For the sake of consistency <strong>use single quotes</strong>. Double quotes should only be used if nested within single quotes.</p>

<p>F. End of Lines and Empty Lines</p>

<p>Whitespace can ruin diffs and make changesets impossible to read. Consider incorporating a pre-commit hook that removes end-of-line whitespace and blanks spaces on empty lines automatically. <strong>TO DO</strong></p>
</li>
<li><p><a name="type">Type Checking (Courtesy jQuery Core Style Guidelines)</a></p></li>
</ol>

<p>Please use the type checking methods provided by <a href="http://underscorejs.org/">Underscore</a>.</p>

<pre><code>A. Actual Types

String:

    _.isString(variable)

Number:

    _.isNumber(variable)

Boolean:

    _.isBoolean(variable)

Object:

    _.isObject(variable)

Array:

    _.isArray(variable)

null:

    _.isNull(variable)

undefined:

  _.isUndefined(variable)
</code></pre>

<ol>
<li>
<p><a name="cond">Conditional Evaluation</a></p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 4.1.1</span>
<span class="pl-c">// When only evaluating that an array has length,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( array.<span class="pl-c1">length</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span> ) ...

<span class="pl-c">// ...evaluate truthiness, like this:</span>
<span class="pl-k">if</span> ( array.<span class="pl-c1">length</span> ) ...


<span class="pl-c">// 4.1.2</span>
<span class="pl-c">// When only evaluating that an array is empty,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( array.<span class="pl-c1">length</span> <span class="pl-k">===</span> <span class="pl-c1">0</span> ) ...

<span class="pl-c">// ...evaluate truthiness, like this:</span>
<span class="pl-k">if</span> ( <span class="pl-k">!</span>array.<span class="pl-c1">length</span> ) ...


<span class="pl-c">// 4.1.3</span>
<span class="pl-c">// When only evaluating that a string is not empty,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( string <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> ) ...

<span class="pl-c">// ...evaluate truthiness, like this:</span>
<span class="pl-k">if</span> ( string ) ...


<span class="pl-c">// 4.1.4</span>
<span class="pl-c">// When only evaluating that a string _is_ empty,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( string <span class="pl-k">===</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> ) ...

<span class="pl-c">// ...evaluate falsy-ness, like this:</span>
<span class="pl-k">if</span> ( <span class="pl-k">!</span>string ) ...


<span class="pl-c">// 4.1.5</span>
<span class="pl-c">// When only evaluating that a reference is true,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( foo <span class="pl-k">===</span> <span class="pl-c1">true</span> ) ...

<span class="pl-c">// ...evaluate like you mean it, take advantage of built in capabilities:</span>
<span class="pl-k">if</span> ( foo ) ...


<span class="pl-c">// 4.1.6</span>
<span class="pl-c">// When evaluating that a reference is false,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( foo <span class="pl-k">===</span> <span class="pl-c1">false</span> ) ...

<span class="pl-c">// ...use negation to coerce a true evaluation</span>
<span class="pl-k">if</span> ( <span class="pl-k">!</span>foo ) ...

<span class="pl-c">// ...Be careful, this will also match: 0, '', null, undefined, NaN</span>
<span class="pl-c">// If you _MUST_ test for a boolean false, then use</span>
<span class="pl-k">if</span> ( foo <span class="pl-k">===</span> <span class="pl-c1">false</span> ) ...


<span class="pl-c">// 4.1.7</span>
<span class="pl-c">// When only evaluating a ref that might be null or undefined, but NOT false, '' or 0,</span>
<span class="pl-c">// instead of this:</span>
<span class="pl-k">if</span> ( foo <span class="pl-k">===</span> <span class="pl-c1">null</span> <span class="pl-k">||</span> foo <span class="pl-k">===</span> <span class="pl-c1">undefined</span> ) ...

<span class="pl-c">// ...take advantage of == type coercion, like this:</span>
<span class="pl-k">if</span> ( foo <span class="pl-k">==</span> <span class="pl-c1">null</span> ) ...

<span class="pl-c">// Remember, using == will match a `null` to BOTH `null` and `undefined`</span>
<span class="pl-c">// but not `false`, '' or 0</span>
<span class="pl-c1">null</span> <span class="pl-k">==</span> <span class="pl-c1">undefined</span>
</pre></div>

<p>ALWAYS evaluate for the best, most accurate result - the above is a guideline, not a dogma.</p>
</li>
<li><p><a name="practical">Practical Style</a></p></li>
</ol>

<p>Portal uses RequireJS to manage dependencies. Therefore files should be written as AMD modules. Use <a href="http://requirejs.org/docs/api.html#cjsmodule">simplified CommonJS wrapper</a> for requiring dependencies. </p>

<pre><code>```javascript

// 5.1.1
// A Practical Module

define(function(require){
  var dependency = require('dependency'),
      privateVar;
  return {
    public API here...
  };
});

```
</code></pre>

<ol>
<li>
<p><a name="naming">Naming</a></p>

<p>A. You are not a human code compiler/compressor, so don't try to be one.</p>

<p>The following code is an example of egregious naming:</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 6.A.1.1</span>
<span class="pl-c">// Example of code with poor names</span>

<span class="pl-k">function</span> <span class="pl-en">q</span>(<span class="pl-smi">s</span>) {
  <span class="pl-k">return</span> <span class="pl-c1">document</span>.querySelectorAll(s);
}
<span class="pl-k">var</span> i,a<span class="pl-k">=</span>[],els<span class="pl-k">=</span>q(<span class="pl-s"><span class="pl-pds">'</span>#foo<span class="pl-pds">'</span></span>);
<span class="pl-k">for</span>(i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span>els.<span class="pl-c1">length</span>;i<span class="pl-k">++</span>){a.<span class="pl-c1">push</span>(els[i]);}</pre></div>

<p>Here's the same piece of logic, but with kinder, more thoughtful naming (and a readable structure):</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 6.A.2.1</span>
<span class="pl-c">// Example of code with improved names</span>

<span class="pl-k">function</span> <span class="pl-en">query</span>( <span class="pl-smi">selector</span> ) {
  <span class="pl-k">return</span> <span class="pl-c1">document</span>.querySelectorAll( selector );
}

<span class="pl-k">var</span> idx <span class="pl-k">=</span> <span class="pl-c1">0</span>,
  elements <span class="pl-k">=</span> [],
  matches <span class="pl-k">=</span> query(<span class="pl-s"><span class="pl-pds">'</span>#foo<span class="pl-pds">'</span></span>),
  length <span class="pl-k">=</span> matches.<span class="pl-c1">length</span>;

<span class="pl-k">for</span> ( ; idx <span class="pl-k">&lt;</span> length; idx<span class="pl-k">++</span> ) {
  elements.<span class="pl-c1">push</span>( matches[ idx ] );
}
</pre></div>

<p>A few additional naming pointers:</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 6.A.3.1</span>
<span class="pl-c">// Naming strings</span>

<span class="pl-s"><span class="pl-pds">`</span>dog<span class="pl-pds">`</span></span> is a string


<span class="pl-c">// 6.A.3.2</span>
<span class="pl-c">// Naming arrays</span>

<span class="pl-s"><span class="pl-pds">`</span>dogs<span class="pl-pds">`</span></span> is an array <span class="pl-k">of</span> <span class="pl-s"><span class="pl-pds">`</span>dog<span class="pl-pds">`</span></span> strings


<span class="pl-c">// 6.A.3.3</span>
<span class="pl-c">// Naming functions, objects, instances, etc</span>

camelCase; <span class="pl-k">function</span> and <span class="pl-k">var</span> declarations


<span class="pl-c">// 6.A.3.4</span>
<span class="pl-c">// Naming constructors, prototypes, etc.</span>

PascalCase; constructor <span class="pl-k">function</span>


<span class="pl-c">// 6.A.3.6</span>
<span class="pl-c">// From the Google Closure Library Style Guide</span>

functionNamesLikeThis;
variableNamesLikeThis;
ConstructorNamesLikeThis;
EnumNamesLikeThis;
methodNamesLikeThis;
SYMBOLIC_CONSTANTS_LIKE_THIS;
</pre></div>

<p>B. Faces of <code>this</code></p>

<p>Beyond the generally well known use cases of <code>call</code> and <code>apply</code>, always prefer <a href="http://underscorejs.org/">Underscore</a>'s <code>_.bind( functionName, this )</code>, for creating <code>BoundFunction</code> definitions for later invocation. Only resort to aliasing (ie. var that = this) when no preferable option is available.</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 6.B.1</span>
<span class="pl-k">function</span> <span class="pl-en">Device</span>( <span class="pl-smi">opts</span> ) {

  <span class="pl-v">this</span>.<span class="pl-c1">value</span> <span class="pl-k">=</span> <span class="pl-c1">null</span>;

  <span class="pl-c">// open an async stream,</span>
  <span class="pl-c">// this will be called continuously</span>
  stream.read( opts.path, _.bind(<span class="pl-k">function</span>( <span class="pl-smi">data</span> ) {

    <span class="pl-c">// Update this instance's current value</span>
    <span class="pl-c">// with the most recent value from the</span>
    <span class="pl-c">// data stream</span>
    <span class="pl-v">this</span>.<span class="pl-c1">value</span> <span class="pl-k">=</span> data;

  }, <span class="pl-v">this</span>) );

  <span class="pl-c">// Throttle the frequency of events emitted from</span>
  <span class="pl-c">// this Device instance</span>
  <span class="pl-c1">setInterval</span>(_.bind(<span class="pl-k">function</span>() {

    <span class="pl-c">// Emit a throttled event</span>
    <span class="pl-v">this</span>.emit(<span class="pl-s"><span class="pl-pds">'</span>event<span class="pl-pds">'</span></span>);

  }, <span class="pl-v">this</span>), opts.freq <span class="pl-k">||</span> <span class="pl-c1">100</span> );
}

<span class="pl-c">// Just pretend we've inherited EventEmitter ;)</span>
</pre></div>

<p>As a last resort, create an alias to <code>this</code> using <code>self</code> as an Identifier. This is bug prone and should be avoided whenever possible.</p>

<div class="highlight highlight-javascript"><pre>
<span class="pl-c">// 6.B.3</span>

<span class="pl-k">function</span> <span class="pl-en">Device</span>( <span class="pl-smi">opts</span> ) {
  <span class="pl-k">var</span> self <span class="pl-k">=</span> <span class="pl-v">this</span>;

  <span class="pl-v">this</span>.<span class="pl-c1">value</span> <span class="pl-k">=</span> <span class="pl-c1">null</span>;

  stream.read( opts.path, <span class="pl-k">function</span>( <span class="pl-smi">data</span> ) {

    self.<span class="pl-c1">value</span> <span class="pl-k">=</span> data;

  });

  <span class="pl-c1">setInterval</span>(<span class="pl-k">function</span>() {

    self.emit(<span class="pl-s"><span class="pl-pds">'</span>event<span class="pl-pds">'</span></span>);

  }, opts.freq <span class="pl-k">||</span> <span class="pl-c1">100</span> );
}
</pre></div>

<p>C. Use <code>thisArg</code></p>

<p>Several prototype methods of ES 5.1 built-ins come with a special <code>thisArg</code> signature, which should be used whenever possible</p>
</li>
<li>
<p><a name="dependency-injection">Dependency Injection</a></p>

<p>When authoring AMD-style modules (as with RequireJS), long lists of dependencies should be written using <a href="http://requirejs.org/docs/whyamd.html#sugar">simplified CommonJS wrapping</a> to promote readability.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 7.A.1.1</span>
<span class="pl-c">// Bad</span>
define([ <span class="pl-s"><span class="pl-pds">'</span>require<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>jquery<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>blade/object<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>blade/fn<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>rdapi<span class="pl-pds">'</span></span>,
     <span class="pl-s"><span class="pl-pds">'</span>oauth<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>blade/jig<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>blade/url<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>dispatch<span class="pl-pds">'</span></span>],
<span class="pl-k">function</span> (<span class="pl-smi">require</span>,   <span class="pl-smi">$</span>,        <span class="pl-smi">object</span>,         <span class="pl-smi">fn</span>,         <span class="pl-smi">rdapi</span>,
      <span class="pl-smi">oauth</span>,   <span class="pl-smi">jig</span>,         <span class="pl-smi">url</span>,         <span class="pl-smi">dispatch</span>) {

});

<span class="pl-c">// Good</span>
define(<span class="pl-k">function</span>(<span class="pl-smi">require</span>){
    <span class="pl-k">var</span> $ <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>jquery<span class="pl-pds">'</span></span>),        
        object <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>blade/object<span class="pl-pds">'</span></span>),         
        fn <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>blade/fn<span class="pl-pds">'</span></span>),         
        rdapi <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>rdapi<span class="pl-pds">'</span></span>),
        oauth <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>oauth<span class="pl-pds">'</span></span>),   
        jig <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>blade/jig<span class="pl-pds">'</span></span>),         
        url <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>blade/url<span class="pl-pds">'</span></span>),         
        dispatch <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>dispatch<span class="pl-pds">'</span></span>);

});</pre></div>
</li>
<li>
<a name="comments">Comments</a>

<ul>
<li>Single line above the code that is subject</li>
<li>Multiline is good</li>
<li>End of line comments are prohibited!</li>
<li>JSDoc style is good, but requires a significant time investment</li>
</ul>
</li>
</ol>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/adsk-ui/idiomatic.js">Autodesk Portal Idiomatic JS</a> is maintained by <a href="https://github.com/adsk-ui">adsk-ui</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

